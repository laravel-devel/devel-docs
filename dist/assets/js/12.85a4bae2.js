(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{211:function(t,s,e){"use strict";e.r(s);var a=e(28),n=Object(a.a)({},(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"settings-storage"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#settings-storage"}},[t._v("#")]),t._v(" Settings Storage")]),t._v(" "),e("p",[t._v("Devel comes with a simple key-value database storage for storing various site and module settings. The "),e("code",[t._v("Settings")]),t._v(" class is located in the "),e("code",[t._v("Devel\\Core\\Entities")]),t._v(" namespace.")]),t._v(" "),e("h2",{attrs:{id:"reading-settings"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#reading-settings"}},[t._v("#")]),t._v(" Reading Settings")]),t._v(" "),e("p",[t._v("There are two ways to read a setting: directly via the "),e("code",[t._v("Settigns")]),t._v(" class or with the "),e("code",[t._v("settings()")]),t._v(" helper.")]),t._v(" "),e("div",{staticClass:"language-php extra-class"},[e("pre",{pre:!0,attrs:{class:"language-php"}},[e("code",[t._v("Setting"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("read")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'key'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'default value'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("setting")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'key'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'default value'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("p",[t._v("The "),e("code",[t._v("key")]),t._v(" consists of a group name and a setting name. The two are separated with a dash ("),e("code",[t._v("-")]),t._v("). For example, if we needed to get a setting from the group "),e("code",[t._v("site")]),t._v(" with the name "),e("code",[t._v("name")]),t._v(", it would look like this:")]),t._v(" "),e("div",{staticClass:"language-php extra-class"},[e("pre",{pre:!0,attrs:{class:"language-php"}},[e("code",[t._v("Setting"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("read")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'site-name'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'Devel'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("setting")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'site-name'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'Devel'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("p",[t._v("You don't have to provide the default value. In that case, if the setting doesn't exist, the method will return "),e("code",[t._v("null")]),t._v(".")]),t._v(" "),e("h2",{attrs:{id:"setting-settings"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#setting-settings"}},[t._v("#")]),t._v(" Setting Settings")]),t._v(" "),e("p",[t._v("Setting a setting value is as simple as reading it:")]),t._v(" "),e("div",{staticClass:"language-php extra-class"},[e("pre",{pre:!0,attrs:{class:"language-php"}},[e("code",[t._v("Settings"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("set")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'key'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'value'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("p",[t._v("Follow the same format for the "),e("code",[t._v("key")]),t._v(" as for reading settings, for example:")]),t._v(" "),e("div",{staticClass:"language-php extra-class"},[e("pre",{pre:!0,attrs:{class:"language-php"}},[e("code",[t._v("Settings"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("set")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'site-name'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'My Amazing Site'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("p",[t._v("If the setting with the provided key doesn't exist in the database - it will be created. However, the display name will be generated based on the key, which might not be what you would like it to be. If you want full control make sure to create the setting beforehand via "),e("code",[t._v("Setting::create()")]),t._v(" ("),e("code",[t._v("Setting")]),t._v(" is just a simple Laravel model).")]),t._v(" "),e("h2",{attrs:{id:"settings-modules"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#settings-modules"}},[t._v("#")]),t._v(" Settings & Modules")]),t._v(" "),e("p",[t._v("You've probably noticed that when you generate a new module, a corresponding "),e("code",[t._v("SettingsController")]),t._v(" and a "),e("code",[t._v("SettingsSeeder")]),t._v(" get generated.")]),t._v(" "),e("p",[t._v("If you want to add custom settings for you module, open "),e("code",[t._v("SettingsSeeder")]),t._v(" and populate the "),e("code",[t._v("protected $settings")]),t._v(" array. Don't forget to seed the module afterwards with "),e("code",[t._v("php artisan module:seed ModuleName")]),t._v(".")]),t._v(" "),e("p",[t._v("If you want those settings to be editable in the dashboard, go to "),e("code",[t._v("SettingsController")]),t._v(" and populate the "),e("code",[t._v("protected $groups")]),t._v(" arrays like this:")]),t._v(" "),e("div",{staticClass:"language-php extra-class"},[e("pre",{pre:!0,attrs:{class:"language-php"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("protected")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$groups")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'settings-group-one'")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'setting-key-one'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'setting-key-two'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ... more keys ...")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ... more setting groups ...")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("p",[t._v("The setting keys here should not include the group name!")]),t._v(" "),e("p",[t._v("If you want to disable the "),e("code",[t._v("Settings")]),t._v(" page for your module, simply comment out the two routes inside your module's "),e("code",[t._v("Routes/dashboard.php")]),t._v(" file.")])])}),[],!1,null,null,null);s.default=n.exports}}]);